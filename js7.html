<!DOCTYPE html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
    <style>
    body{
    	padding:0px;
    	margin: 0px;
    	width: 100%;
    	height:100%;
    }
    div{
    	border:1px solid red;
    	margin:8px;
    	padding:5px;

    }
    .main{
    	display: flex;
    	width:650px;
    	height:200px;
    	border:0;
    }
    .tree{
    	display:flex;

    }
    </style>
  </head>
  <body>
  <div class="main">
  <div class="tree">
  0
  	<div class="tree">
  		1
  		<div class="tree">
  		2
  			 <div class="tree">
  			 3
  			</div>
  			<div class="tree">
  			4
  			</div>
  		</div>
  		<div class="tree">
  		5
  		  	<div class="tree">
  		  	6
  			</div>
  			<div class="tree">
  			7
  			</div>
  		</div>
  	</div>
  	<div class="tree">
  	8
  		<div class="tree">
  		9
  		    <div class="tree">
  		    10
  			</div>
  			<div class="tree">
  			11
  			</div>
  		</div>
  		<div class="tree">
  		12
  		  	<div class="tree">
  		  	13
  			</div>
  			<div class="tree">
  			14
  			</div>
  		</div>
  	</div>
  </div>
  </div>
  <input type="button" name="" value="前序遍历" class="btn">
  <input type="button" name="" value="中序遍历" class="btn">
  <input type="button" name="" value="后序遍历" class="btn">
 
  <script type="text/javascript">

  (function(){
  	  var tree=document.getElementsByClassName("tree");
  var btn=document.getElementsByClassName("btn");
  var timer=[];
  var isStart=false;
  var counter = 0;
  //前序遍历
            function show(nodes) {
                nodes[counter].style.backgroundColor = 'blue';
                var num = counter;
                counter++;
                timer[num] = setTimeout(function() {
                    nodes[num].style.backgroundColor = 'antiquewhite';
                }, 500);
            }

            function showFn(nodes) {
                show(nodes);
                if (counter < nodes.length) {
                    setTimeout(function() {
                        showFn(nodes);
                    }, 500)
                } else {
                    counter = 0;
                    isStart = false;
                    setTimeout(() => {
                        alert('遍历结束');
                    }, 1000);
                }
            }
            btn[0].addEventListener('click', function() {
                if (!isStart) {
                    showFn(tree);
                    isStart = true;
                } else {
                    alert('动画运行中');
                }
            });
//中序遍历
	var nodelist={
		value:tree[0],
		left:{
			value:tree[1],
			left:{
				value:tree[2],
				left:{
					value:tree[3],
					left:{
						value:null
					},
					right:{
						value:null
					}
				},
				right:{
					value:tree[4],
							left:{
						value:null
					},
					right:{
						value:null
					}
				},
			},
			right:{
				value:tree[5],
				left:{
					value:tree[6],
					left:{
						value:null
					},
					right:{
						value:null
					}
				},
				right:{
					value:tree[7],
					left:{
						value:null
					},
					right:{
						value:null
					}
				},
			},
		},
		right:{
			value:tree[8],
			left:{
				value:tree[9],
				left:{
					value:tree[10],
					left:{
						value:null
					},
					right:{
						value:null
					}
				},
				right:{
					value:tree[11],
					left:{
						value:null
					},
					right:{
						value:null
					}
				},
			},
			right:{
				value:tree[12],
				left:{
					value:tree[13],
					left:{
						value:null
					},
					right:{
						value:null
					}
				},
				right:{
					value:tree[14],
					left:{
						value:null
					},
					right:{
						value:null
					}
				}
			}
		}
	}
	function showIn(){
		var list=[];
		var Inorder=function (node){
			if(node){
				Inorder(node.left);
				if(node.value){
					list.push(node.value);
				}
				Inorder(node.right)
			}
		}
		Inorder(nodelist);
		return list;
	}
	btn[1].addEventListener('click', function() {
                if (!isStart) {
                    var s=showIn();
                    showFn(s);
                    isStart = true;
                } else {
                    alert('动画运行中');
                }
            });
	function showLn(){
		var list=[];
		var Lnorder=function (node){
			if(node){
				Lnorder(node.left);
				Lnorder(node.right);
				if(node.value){
					list.push(node.value);
				}
				
			}
		}
		Lnorder(nodelist);
		return list;
	}

	btn[2].addEventListener('click', function() {
                if (!isStart) {
                    var s= showLn();
                    showFn(s);
                    isStart = true;
                } else {
                    alert('动画运行中');
                }
            });
  })();
  </script>
  </body>
</html>